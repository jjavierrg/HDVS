name: Deploy to portainer

on:
  workflow_call:
    inputs:
      ACTION_ENVIRONMENT:
        required: true
        type: string

jobs:
  publish-to-portainer:
    runs-on: ubuntu-20.04
    environment: ${{ inputs.ACTION_ENVIRONMENT }}

    steps:
      - name: ðŸš€ Call Webhook
        uses: jasongitmail/fast-webhook@v1
        with:
          url: ${{ secrets.PORTAINER_WEBHOOK }}
